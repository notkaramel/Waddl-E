<h1 id="final-project">Final Project</h1>
<p>Software Lead: Antoine Phan
Consulting for software: Adam Corbier</p>
<h2 id="wirings">Wirings</h2>
<h3 id="sensors">Sensors</h3>
<ul>
<li>Front color sensor: Port S3</li>
<li>Side color sensor: Port S4</li>
</ul>
<h3 id="motors">Motors</h3>
<ul>
<li>Left wheel: Port D</li>
<li>Right wheel: Port A</li>
<li>Cube rack/holder: Port B</li>
<li>Lever: Port C</li>
</ul>
<h2 id="file-structure">File Structure</h2>
<pre><code class="language-shell">├── Button.py							# (Unit) Buttons
├── CollectColors.py					# (Unit) Collecting color data
├── ColorDetection.py					# (Component) Color detection algorithm
├── ColorTestData.md					# Color test data
├── data								# Color data
│   ├── color_data_blue_map.csv
│   ├── ...
├── Delivery.py							# (Subsystem) Delivery
├── docs								# User&#39;s Requirement Documents
├── LICENSE								# MIT License
├── README.md							# Documentation for the project
├── Test_ColorDetection.py				# (Component Test) Testing accuracy of color detection
├── Test_Unloading.py					# (Component Test) Testing unloading mechanism
├── Test_Vehicle.py						# (Subsystem Test) Testing vehicle subsystem
├── Unloading.py						# (Component) Unloading mechanism
├── utils								# The utils API
│   ├── brick.py
│   ├── ...
├── Vehicle.py							# (Subsystem) Vehicle
├── WADDLE.py							# (System) The final product
└── Wheels.py							# (Unit) Basic motion for the wheels/motors
</code></pre>
<h2 id="system-breakdown">System breakdown</h2>
<h3 id="unit-level">Unit level</h3>
<ul>
<li>Define &quot;Unit&quot;: Down to the most basic piece of hardware (e.g. motor, sensor, button)</li>
<li>Motor: testing of basic functions from the <code>utils.brick</code> API<ul>
<li>Testing <code>Motor.set_power(power)</code> for continuous movement<ul>
<li><code>power</code> is a number from -100 to 100</li>
<li>Positive <code>power</code> is for clockwise movement</li>
<li>Negative <code>power</code> is for counter-clockwise movement</li>
</ul>
</li>
</ul>
</li>
<li>Color sensor: testing different modes, getting rgb values from the sensor</li>
<li>Unit files:<ul>
<li><code>CollectColors.py</code>: <ul>
<li>Collecting data using the color sensor</li>
<li>Using color sensor to obtain rgb value of a selected color</li>
<li>Write the colected data into <code>./data/color_data_[color]</code>, where <code>[color]</code> is the selected color</li>
<li>Data will be used for color detection</li>
</ul>
</li>
<li><code>Wheels.py</code>: controlling the wheels</li>
</ul>
</li>
</ul>
<h3 id="component-level">Component level</h3>
<h4 id="wheels">Wheels</h4>
<ul>
<li><p>Major design decisions:</p>
<ul>
<li>The wheels will turn the system using spinning motion around itself, rather than pivotal rotation movement.</li>
<li>Tests will be implemented directly to the main method of the</li>
</ul>
</li>
<li><p>List of functions (can be imported from <code>Wheels.py</code>)</p>
</li>
</ul>
<pre><code class="language-python"># Runs a motor at a power level (-100 to 100). Default power level is 50 [%]
run(motor: Motor, power:int)

# Make both wheels go, given an input power level. This is like a wrapper function of run(). Default power level is 50[%]
go(power:int)

# Stop a motor from running, effectively setting its power to 0
stop(motor: Motor)

# Rotate the system for a duration of time
# The angle of rotation is relative to the delay time and current power of motor
# Direction must be &quot;left&quot; or &quot;right&quot; string value, excluding the double quotes. Delay is a floating point number.
turn(direction: str, delay:float)
</code></pre>
<ul>
<li>Testing the wheels:<ul>
<li><input checked="" disabled="" type="checkbox"> Basic movements (forward, backward, standstill)</li>
<li><input checked="" disabled="" type="checkbox"> Turning movements (turn left, turn right)</li>
</ul>
</li>
</ul>
<h4 id="color-detection">Color Detection</h4>
<ul>
<li><p>Files: </p>
<ul>
<li><code>ColorDetection.py</code>: color detection algorithm</li>
</ul>
</li>
<li><p>Component testings</p>
<ul>
<li><code>Test_ColorDetection.py</code>: testing color detection algorithm</li>
</ul>
</li>
<li><p>List of functions (can be imported from <code>ColorDetection.py</code>)</p>
</li>
</ul>
<pre><code class="language-python"># Color class/object
Color()
# attributes: name, meanRGB, stdevRGB

# Given a list of RGB values (and a list of wanted colors as Color objects), return the color that is closest to the input RGB values
detects_RGB(input_RGB:list, availableColors:list[Color])

# Sensors
FRONT_SENSOR, SIDE_SENSOR
</code></pre>
<h4 id="unloading">Unloading</h4>
<h3 id="subsystem-level">Subsystem level</h3>
<h4 id="vehicle">Vehicle</h4>
<h4 id="delivery">Delivery</h4>
<h3 id="system-level">System level</h3>
<h4 id="waddle">WADDLE</h4>

